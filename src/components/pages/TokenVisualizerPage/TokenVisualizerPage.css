/* =============================================================================
   TOKEN VISUALIZER PAGE STYLES
   ============================================================================= */

.token-visualizer-page {
  --page-max-width: 1200px;
  
  /* Page-specific token definitions (Layer 3) */
  --token-card-bg: var(--page-surface-elevated);
  --token-card-border: var(--page-border);
  --token-card-hover-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  
  --token-group-accent: var(--page-accent-primary);
  --token-filter-bg: var(--page-surface);
  --token-filter-border: var(--page-border-muted);
  
  /* Layer-specific colors */
  --layer-1-bg: var(--page-surface);
  --layer-1-border: var(--page-border);
  --layer-1-text: var(--color-danger);
  
  --layer-2-bg: var(--page-surface);
  --layer-2-border: var(--page-border);
  --layer-2-text: var(--color-warning);
  
  --layer-3-bg: var(--page-surface);
  --layer-3-border: var(--page-border);
  --layer-3-text: var(--color-info);
  
  --layer-4-bg: var(--page-surface);
  --layer-4-border: var(--page-border);
  --layer-4-text: var(--color-success);
  
  --code-bg: var(--page-surface);
  --code-hover-bg: var(--page-hover);
  --reference-tag-bg: var(--page-surface);
  --reference-tag-text: var(--page-text-secondary);
  --example-tag-bg: var(--page-surface);
  --example-tag-text: var(--page-text-secondary);
}

/* Token Card Styles */
.token-card {
  position: relative;
  overflow: hidden;
  background-color: var(--token-card-bg);
  border-color: var(--token-card-border);
}

.token-card:hover {
  transform: translateY(-1px);
  box-shadow: var(--token-card-hover-shadow);
}

/* Token Group Styles */
.token-group {
  position: relative;
}

.token-group::before {
  content: '';
  position: absolute;
  top: 0;
  left: -1rem;
  width: 4px;
  height: 100%;
  background: linear-gradient(
    to bottom,
    var(--token-group-accent),
    var(--page-accent-secondary)
  );
  border-radius: 2px;
  opacity: 0.3;
}

/* Layer Badge Animations */
.token-card .layer-badge-1 {
  background-color: var(--layer-1-bg);
  border-color: var(--layer-1-border);
  color: var(--layer-1-text);
  transition: all 0.2s ease;
}

.token-card .layer-badge-2 {
  background-color: var(--layer-2-bg);
  border-color: var(--layer-2-border);
  color: var(--layer-2-text);
  transition: all 0.2s ease;
}

.token-card .layer-badge-3 {
  background-color: var(--layer-3-bg);
  border-color: var(--layer-3-border);
  color: var(--layer-3-text);
  transition: all 0.2s ease;
}

.token-card .layer-badge-4 {
  background-color: var(--layer-4-bg);
  border-color: var(--layer-4-border);
  color: var(--layer-4-text);
  transition: all 0.2s ease;
}

.token-card:hover .layer-badge-1 {
  box-shadow: 0 0 0 2px var(--layer-1-text);
}

.token-card:hover .layer-badge-2 {
  box-shadow: 0 0 0 2px var(--layer-2-text);
}

.token-card:hover .layer-badge-3 {
  box-shadow: 0 0 0 2px var(--layer-3-text);
}

.token-card:hover .layer-badge-4 {
  box-shadow: 0 0 0 2px var(--layer-4-text);
}

/* Color Swatch Enhancements */
.token-card [style*="backgroundColor"] {
  position: relative;
}

.token-card [style*="backgroundColor"]::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    45deg,
    transparent 25%,
    rgba(255, 255, 255, 0.1) 25%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 50%,
    transparent 75%,
    rgba(255, 255, 255, 0.1) 75%
  );
  background-size: 8px 8px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.token-card:hover [style*="backgroundColor"]::before {
  opacity: 1;
}

/* Reference and Example Tags */
.token-card .reference-tag {
  background-color: var(--reference-tag-bg);
  color: var(--reference-tag-text);
  border-color: var(--page-border);
  transition: all 0.2s ease;
}

.token-card .reference-tag:hover {
  background-color: var(--page-hover);
  color: var(--page-text-primary);
}

.token-card .example-tag {
  background-color: var(--example-tag-bg);
  color: var(--example-tag-text);
  border-color: var(--page-border);
  transition: all 0.2s ease;
}

.token-card .example-tag:hover {
  background-color: var(--page-hover);
  color: var(--page-text-primary);
}

/* Interactive Code Blocks */
.token-card .code-block {
  background-color: var(--code-bg);
  border-color: var(--page-border);
  color: var(--page-text-primary);
  transition: all 0.2s ease;
  user-select: all;
}

.token-card .code-block:hover {
  background-color: var(--code-hover-bg);
  transform: scale(1.02);
}

/* Tab Navigation Enhancements */
.token-visualizer-page nav button {
  position: relative;
  overflow: hidden;
}

.token-visualizer-page nav button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  transition: left 0.5s ease;
}

.token-visualizer-page nav button:hover::before {
  left: 100%;
}

/* Architecture Flow Animation */
.token-visualizer-page .gradient-flow {
  background: linear-gradient(
    90deg,
    var(--layer-1-text),
    var(--layer-2-text),
    var(--layer-3-text),
    var(--layer-4-text)
  );
  background-size: 200% 100%;
  animation: gradientShift 3s ease-in-out infinite;
}

@keyframes gradientShift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Flow Arrow Animation */
.token-visualizer-page .flow-arrow {
  color: var(--page-text-muted);
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

/* Decision Tree Enhancements */
.token-visualizer-page .decision-item {
  background-color: var(--page-surface-elevated);
  border-color: var(--page-border);
  transition: all 0.2s ease;
}

.token-visualizer-page .decision-item:hover {
  transform: translateX(4px);
  box-shadow: -4px 0 0 var(--page-accent-primary);
  border-color: var(--page-accent-primary);
}

/* Filter Section */
.token-visualizer-page .filter-section {
  background-color: var(--token-filter-bg);
  border-color: var(--token-filter-border);
}

.token-visualizer-page .filter-section h2 {
  color: var(--page-text-primary);
}

.token-visualizer-page .filter-section p {
  color: var(--page-text-secondary);
}

.token-visualizer-page .filter-section label {
  color: var(--page-text-primary);
}

.token-visualizer-page .filter-section select,
.token-visualizer-page .filter-section input {
  background-color: var(--page-surface-elevated);
  border-color: var(--page-border);
  color: var(--page-text-primary);
}

.token-visualizer-page .filter-section select:focus,
.token-visualizer-page .filter-section input:focus {
  outline-color: var(--page-focus);
  border-color: var(--page-accent-primary);
}

/* Quick Reference Card */
.token-visualizer-page .quick-ref-card {
  background-color: var(--page-text-primary);
  color: var(--page-text-inverse);
  position: relative;
  overflow: hidden;
}

.token-visualizer-page .quick-ref-card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255, 255, 255, 0.02) 50%,
    transparent 70%
  );
  animation: shimmer 8s ease-in-out infinite;
}

@keyframes shimmer {
  0%, 100% {
    transform: translateX(-100%) translateY(-100%) rotate(45deg);
  }
  50% {
    transform: translateX(100%) translateY(100%) rotate(45deg);
  }
}

.token-visualizer-page .quick-ref-card .accent-blue {
  color: var(--layer-3-text);
}

.token-visualizer-page .quick-ref-card .accent-green {
  color: var(--layer-4-text);
}

.token-visualizer-page .quick-ref-card .accent-purple {
  color: var(--layer-2-text);
}

.token-visualizer-page .quick-ref-card .pro-tip {
  background-color: var(--layer-3-text);
  color: var(--page-text-inverse);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .token-group::before {
    left: 0;
    width: 100%;
    height: 2px;
    top: -0.5rem;
  }
  
  .token-card {
    margin-bottom: 1rem;
  }
}

/* Focus States for Accessibility */
.token-card:focus-within {
  outline: 2px solid var(--page-focus);
  outline-offset: 2px;
}

.token-card .code-block:focus {
  outline: 1px solid var(--page-focus);
  outline-offset: 1px;
}

/* Print Styles */
@media print {
  .token-visualizer-page nav {
    display: none;
  }
  
  .token-card {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  .token-group {
    margin-bottom: 2rem;
  }
}
